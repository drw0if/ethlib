<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Docs</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>

<body>
    <aside class="menu__container">
        <nav class="menu">
            <header>
                <h2 id="menu__title">
                    Fasi progettuali
                </h2>
            </header>
            <ul class="menu__list">
                <li class="menu__item">
                    <a href="#idea">Idea</a>
                </li>
                <li class="menu__item">
                    <a href="#database">Database</a>
                </li>
                <li class="menu__item">
                    <a href="#models">Classi modello per il database</a>
                </li>
                <li class="menu__item">
                    <a href="#mockup">Mockup</a>
                </li>
                <li class="menu__item">
                    <a href=""></a>
                </li>
            </ul>
        </nav>
    </aside>

    <main class="content">
        <header>
            <h1 id="content__title">
                Documentazione progetto di Progettazione Web
            </h1>
        </header>
        <section id="idea">
            <header>
                <h2>Idea</h2>
            </header>
            <div class="post">
                <p>
                    L'idea dietro a Ethib è quella di creare una applicazione web che permetta lo sharing etico di libri in formati pdf o ebook, è ammessa quindi la ricerca di testi tramite l'apposito form, il download ed anche la possibilità di lasciare una recensione testuale ed un voto.
                    L'utente deve quindi registrarsi per caricare un libro e per lasciare recensioni, può inoltre caricare contenuti ma mantenerli privati ed accessibili tramite una url.
                    Si prevede inoltre l'uso di API esterne che forniscano i dati di un libro a partire dal codice ISBN per rendere la pagina di un libro piena di informazioni che però l'utente non è tenuto a fornire.
                </p>
            </div>
        </section>
        <section id="database">
            <header>
                <h2>Database</h2>
            </header>
            <div class="post">
                <p>
                    Come Database si decide di usare MySQL, un RDBMS che ha una forte integrazione con il PHP, linguaggio usato per la creazione della vera e propria logica di business. <br/>
                    Il diagramma ER del database è:
                    <img src="media/ER.png" alt="ER base del progetto">
                    Si decide di inserire le seguenti ridondanze per ottimizzare l'ottenimento di informazioni richieste spesso:
                </p>
                <ul>
                    <li>mark_sum su Book: somma di tutti i voti dati ad un singolo libro</li>
                    <li>mark_count su Book: conteggio di voti dati ad un singolo libro</li>
                </ul>
                <p>
                    Il diagramma ER finale risulta quindi essere:
                    <img src="media/ER_completo.png" alt="ER con ridondanze">
                    L'implementazione in codice MySQL per la generazione del database è raggiungibile cliccando <a href="download/generate.sql">qui</a></br>
                    Il file Visio del diagramma ER è raggiungibile cliccando <a href="download/ER-pweb.vsdx">qui</a>

                </p>
            </div>
        </section>
        <section id="models">
            <header>
                <h2>Classi modello per il database</h2>
            </header>
            <div class="post">
                <p>
                    Si decide di rendere semplice l'interazione con il database creando un micro ORM con solo le funzionalità necessarie ad eseguire il ciclo CRUD. <br>
                    Si inizia quindi creando una classe astratta Entity che implementi dei metodi generali save() per il salvataggio (sia insert che update) e filter_by() per il retrieve di oggetti con la possibilità di filtrare.
                    Questa classe prende in automatico le proprietà pubbliche delle classi che la estendono e creano automaticamente le query necessarie per l'interazione con MySQL. <br>
                    Non ci basterà altro che creare classi che la estendono e ricopiarvi all'interno i nomi esatti delle colonne date alla tabella di MySQL per avere tutto mappato. <br>
                    La generica connessione al database è gestita tramite l'oggetto DB che rispetta il design pattern del Singleton in modo da avere al massimo una sola connessione 
                    attiva al database condivisa tra tutte le entità che ne avranno necessità di utilizzo.
                </p>
            </div>
        </section>
        <section id="mockup">
            <header>
                <h2>Mockup</h2>
            </header>
            <div class="post">
                <p>

                </p>
            </div>
        </section>
        <section id="ISBN API">
            <header>
                <h2></h2>
            </header>
            <div class="post">
                <p>
                    https://isbndb.com/apidocs/v2
                    https://openlibrary.org/dev/docs/api/books
                </p>
            </div>
        </section>
    </main>
</body>

</html>